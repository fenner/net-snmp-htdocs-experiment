---
section: tutorial
---
<!-- CONTENT START -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>mib2c</title>
  </head>

  <body>
    <!-- ========================================================= -->
    <h1>mib2c</h1>
    <p>
      This brief tutorial presents an overview of generating skeleton C code
      for a SNMP MIB using the <var>mib2c</var> utility.
    </p>
    <p>
      For mib2c to work, it needs to be able to find the MIB file that
      defines the MIB for which it will be generating code. Running mib2c
      without arguments informs you of this:
      </p>
    <table><tr><td width=20></td><td bgcolor=CCCCCC><pre>
You didn't give mib2c a valid OID to start with.  IE, I could not find
any information about the mib node "".  This could be caused
because you supplied an incorrectly node, or by the MIB that you're
trying to generate code from isn't loaded.  To make sure your mib is
loaded, run mib2c using this as an example:

   env MIBS="+MY-PERSONAL-MIB" mib2c

You might wish to start by reading the MIB loading tutorial at:
   </pre>
<a href="http://www.net-snmp.org/tutorial-5/commands/mib-options.html">http://www.net-snmp.org/tutorial-5/commands/mib-options.html</a><pre>

And making sure you can get snmptranslate to display information about
your MIB node.  Once snmptranslate works, then come back and try mib2c
again.
</pre></td></tr></table>
    <p>
    So, if you are interested in generating code for your table XYZTable, 
    make sure that <pre>snmptranslate -IR XYZTable</pre> works first.
    </p>
    <p>
      When you run mib2c, you must specify a MIB node for it to process. You
      can also specify which configuration file you would like it to use
      to generate the code. The available options are:
    <ul>
      <li>mib2c.array-user.conf
      <li>mib2c.create-dataset.conf
      <li>mib2c.int_watch.conf
      <li>mib2c.iterate.conf
      <li>mib2c.iterate_access.conf
      <li>mib2c.mfd.conf
      <li>mib2c.notify.conf
      <li>mib2c.old-api.conf
      <li>mib2c.scalar.conf
    </ul>
    </p>
    <p>
      Running mib2c without specifying a configuration file will prompt
      you with some questions to help determine which one might be
      appropriate for your situation.
    </p>
    <p>
      One thing many people get confuse about is what to do <i>after</i>
      running mib2c. Contrary to popular belief, simply running mib2c on
      a MIB does not generate a complete implementation for the module, as
      indicated by this warning printed after running mib2c without
      specifying a configuration file:
    </p>
    <table><tr><td width=20></td><td bgcolor=CCCCCC><pre>
**********************************************************************
* NOTE WELL: The code generated by mib2c is only a template.  *YOU*  *
* must fill in the code before it'll work most of the time.  In many *
* cases, spots that MUST be edited within the files are marked with  *
* /* XXX */ or /* TODO */ comments.                                  *
**********************************************************************
</pre></td></tr></table>
    <p>
      So once you've generated the template (aka skeleton) code for your
      mib, you need to edit the code and implement the portions of the
      code specific to your module. As more elaborate configuration files
      are developed, it should become simpler to identify the what/when/where
      portions of the code (the MFD configuration file is the latest
      step towards this goal - see the MFD tutorial
      <a href="../mfd/">here</a>).
    </p>
    <p>
      The next section covers the shell script <var>mib2c-update</var>,
      which is a wrapper around mib2c to help you take advantage of
      updates to the configuration file you chose for your mib module.
    </p>
    <!-- ========================================================= -->
    <font size=+1>
      <a href="mib2c-update.html">Next: mib2c-update</a>
    </font>
    <!-- ========================================================= -->
    <hr>
    rstory at freesnmp dot com<br>
Version $Revision$
<!-- CONTENT END -->